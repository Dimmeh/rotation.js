/*! rotation.js - v0.1.0 - 2013-12-25 */!function(a,b){"use strict";var c={namespace:"rotator",autoRotate:!0,interval:4e3,duration:500,easing:"ease",pauseOnHover:!0,stopOnHover:!1,scrolling:!0,pauseControl:!0,pauseControlContainer:this.namespace+"play-pause",navControls:!0,navControlsClass:"rotator-nav-controls",navControlsNextClass:"rotator-next",navControlsPreviousClass:"rotator-previous",navControlsNextText:"Next",navControlsPreviousText:"Previous",pagination:!0,paginationNumbers:!0,paginationClass:"rotator-pagination",paginationItemClass:"rotator-control",paginationCurrentItemClass:"current",itemsId:"rotator",itemsElement:"li",groupItemsBy:1,beforeInit:function(){},afterInit:function(){},beforeTransition:function(){},afterTransition:function(){}},d=function(b,d){var e=this;return this.options=a.extend({},c,d),this.container=b,this.previousIndex=0,this.currentIndex=0,this.itemsContainer=a("#"+this.getOption("itemsId"),this.container),this.items=a(this.getOption("itemsElement"),this.itemsContainer),this.options.beforeInit.call(this),this.init(),this.options.afterInit.call(this),{play:function(){e.play()},pause:function(){e.pause()}}};d.VERSION="0.1.0",a.extend(d.prototype,{getOption:function(a){return this.options[a]},setOption:function(a,b){return this.options[a]=b,b},itemsCount:function(){return this.items.length},getItemByIndex:function(a){return this.items.eq(a)},init:function(){var b=this.getOption("itemsElement");this.initIdsOnElements(),a(b+":first",this.container).siblings(b).hide(),this.bindEvents(),this.build(),this.play()},initIdsOnElements:function(){var a;for(a=0;a<this.itemsCount();a++)this.getItemByIndex(a).attr("id","rotator-item-"+a)},bindEvents:function(){var c=this;a(b).on("resize",function(){}),this.getOption("pauseOnHover")&&c.bindMouseEvents(),this.getOption("scrolling")&&c.bindScrolling()},bindMouseEvents:function(){var b=this;a(b.container).bind("mouseenter",function(){b.setOption("autoRotate",!1)}).bind("mouseleave",function(){b.setOption("autoRotate",!0)})},bindScrolling:function(){var b=this;a(this.container).bind("mousewheel",function(a){a.preventDefault(),b.rotate(b.currentIndex+1)})},rotate:function(b,c){if(!(this.itemsCount()<=1)&&this.getOption("autoRotate")){this.getOption("beforeTransition").call(this);var d=this.currentIndex,e=(this.previousIndex,this.itemsCount()-1),f=this.getItemByIndex(d),g=this.getOption("duration"),h=this;d===e?d=0:d++;var i=this.getItemByIndex(d);if(a(f).fadeOut(g,function(){a(i).fadeIn(g,function(){h.currentIndex=d})}),this.getOption("pagination")){var j=this.getOption("paginationCurrentItemClass"),k=a("."+this.getOption("paginationClass"),this.container),l=a("a."+j,k).parent("li").next("li"),m=l.length?l.find("a"):a("a:first",k);a("a."+j,k).removeClass(j),m.addClass(j)}this.getOption("afterTransition").call(this),c&&"function"==typeof c&&c()}},play:function(){var a=this;this.getOption("autoRotate")&&(this.auto=setInterval(function(){a.rotate(a.currentIndex)},this.getOption("interval")))},pause:function(){var a=this;a.auto&&(a.auto=clearInterval(a.auto))},build:function(){this.getOption("navControls")&&this.buildNavControls(),this.getOption("pagination")&&this.buildPagination()},buildNavControls:function(){},buildPagination:function(){if(!(this.itemsCount()<=1)){var b,c,d,e,f,g=this,h=this.container;for(b=a("<ul/>",{"class":this.getOption("paginationClass")}),b.appendTo(h),e=0;e<this.itemsCount();e++)c=a("<li/>"),d=a("<a/>",{href:"#rotator-item-"+e,"data-index":e,text:this.getOption("paginationNumbers")?e:"","class":this.getOption("paginationItemClass")}),d.appendTo(c),c.appendTo(b);f=a("li",b).children(),f.eq(0).addClass(this.getOption("paginationCurrentItemClass")),f.on("click",function(b){b.preventDefault();var c=a(this),d=c.data("index");a(c.attr("href")).show().siblings("li").hide(),c.addClass(g.getOption("paginationCurrentItemClass")).parent("li").siblings("li").find("a").removeClass("current"),g.pause(),g.currentIndex=d,g.setOption("autoRotate",!0),g.play()})}}}),a.fn.rotate=function(b){return this.each(function(){var c=a(this);new d(c,b)})}}(jQuery,window,document);